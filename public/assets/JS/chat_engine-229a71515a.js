class ChatEngine{constructor(e,s){this.chatBox=$("#"+e),this.userEmail=s,this.socket=io.connect("http://localhost:5000"),this.userEmail&&this.connectionHandler()}connectionHandler(){let e=this;this.socket.on("connect",(function(){console.log("Connection Established using sockets!"),e.socket.emit("join_chat_room",{user_email:e.userEmail,chatroom:"Codeial"}),e.socket.on("user_joined",(function(e){console.log("User Joined!",e)}))})),$("#new-msg-send-btn").on("click",(function(s){s.preventDefault();let n=$("#new-msg-input-box").val();""!=n&&e.socket.emit("send_message",{email:e.userEmail,chatroom:"Codeial",message:n})})),e.socket.on("receive_message",(function(s){let n;n=s.email==e.userEmail?$(`<li class="my-message">\n                <p>${s.message}<span>${s.email}</span></p>\n                </li>`):$(`<li class="not-my-message">\n                <p>${s.message}<span>${s.email}</span></p>\n                </li>`),$("#message-list").append(n)}))}}